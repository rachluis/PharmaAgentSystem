# 外网访问指南 (Public Access Guide)

如果您希望让**所有用户**（不仅仅是同一 WiFi 下的用户）都能访问您的 PharmaAgentSystem，您需要将本地服务暴露到公网。这就涉及到**公网访问**的配置。

目前有两种主流方案，分别适合不同的场景：

---

## 方案一：内网穿透 (推荐演示使用)

如果您只是想**临时**给导师、同学或异地同事展示您的系统，而不想购买服务器，这是最快、最便宜的方法。

**原理**：使用工具将您本地电脑的 `8080` 端口映射到一个公网网址。

**推荐工具**：

* **cpolar** (国内常用，速度快，免费版随机域名)
* **ngrok** (国际通用)
* **NATA 本地解析**

### 以 cpolar 为例的操作步骤

1. **下载安装**：访问 [cpolar 官网](https://www.cpolar.com/) 下载 Windows 版本并安装。
2. **注册账号**：在官网注册一个免费账号，获取 Token。
3. **连接账户**：
    打开 cpolar 软件（或命令行），输入认证命令（官网会提供）。
4. **映射端口**：
    在命令行输入：

    ```powershell
    cpolar http 8080
    ```

5. **获取网址**：
    cpolar 会生成两个网址（HTTP 和 HTTPS）。
    例如：`http://abc1234.cpolar.cn`。
    **把这个网址发给别人，他们就能在任何地方访问您电脑上的 PharmaAgentSystem 了！**

**注意**：

* 您的电脑必须保持开机，且 Docker 必须运行。
* 命令行窗口不能关闭。
* 免费版网址通常会在 24 小时后变化。

---

## 方案二：云服务器部署 (推荐正式上线/答辩使用)

如果您希望系统 **7x24小时在线**，稳定且不需要您一直开着自己的电脑，建议购买云服务器。

**适用场景**：正式毕业设计演示、长期测试、生产环境。

**推荐服务商**：阿里云、腾讯云、华为云等（学生通常有优惠套餐）。

### 操作步骤

1. **购买服务器**：
    * 系统选择：**Ubuntu 22.04 LTS** 或 **CentOS 7/8**。
    * 配置：至少 2核 CPU / 4G 内存（因为跑了数据库和 AI 模块）。
    * **重要：在安全组/防火墙中开放 `8080` 和 `8000` 端口。**

2. **安装环境**：
    SSH 登录服务器后，运行：

    ```bash
    # 安装 Docker 和 Docker Compose
    curl -fsSL https://get.docker.com | bash
    ```

3. **上传代码**：
    将您的 `PharmaAgentSystem` 文件夹上传到服务器（可以使用 WinSCP 或 git）。

4. **启动服务**：
    进入目录并运行：

    ```bash
    docker compose up -d --build
    ```

5. **访问**：
    使用 `http://<服务器公网IP>:8080` 即可访问。

---

## 方案三：公网 IP + 端口映射 (不推荐)

如果您家里有宽带且拥有**公网 IPv4**（大部分家庭宽带没有），可以在路由器后台设置**虚拟服务器 (Virtual Server)** 或 **端口转发 (Port Forwarding)**。

* **将外部端口 8080 转发到 -> 您本机局域网 IP (如 192.168.1.5) 的 8080 端口。**

**缺点**：配置复杂，且大部分运营商封锁了 80/8080/443 等常用端口，不建议尝试。

---

## 总结

* **临时演示/调试** -> 选 **方案一 (内网穿透)**。简单快捷。
* **正式作品展示** -> 选 **方案二 (云服务器)**。专业稳定。
